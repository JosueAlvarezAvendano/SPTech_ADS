<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>SARI EDACOS - Controle de Vendas</h1>

    <!-- PARTE 1 -->
    <div id="parte1">
        <h3>Registrar Parâmetros</h3>

        <label for="input_salInicial">Salário Inicial:</label>
        <input id="input_salInicial" type="text"><br><br>

        <label for="input_salFinal">Salário Final:</label>
        <input id="input_salFinal" type="text"><br><br>

        <label for="input_MesCorrente">Mês Corrente:</label>
        <select id="input_MesCorrente">
            <option selected disabled value="">Mês Corrente</option>
            <option value="1">Janeiro</option>
            <option value="2">Fevereiro</option>
            <option value="3">Março</option>
            <option value="4">Abril</option>
            <option value="5">Maio</option>
            <option value="6">Junho</option>
            <option value="7">Julho</option>
            <option value="8">Agosto</option>
            <option value="9">Setembro</option>
            <option value="10">Outubro</option>
            <option value="11">Novembro</option>
            <option value="12">Dezembro</option>
        </select> <br><br>

        <button onclick="registrarParametros()">Registrar Parâmetros</button>
        <br><br>
        <div id="mensagemParte1"></div>
    </div>

    <div id="parte2" style="display: none;">
        <h3>Pagar Salário</h3>
        <label for="input_nomeFuncionario">Nome do Funcionário:</label>
        <input id="input_nomeFuncionario" type="text"><br><br>

        <label for="input_salario">Salário</label>
        <input id="input_salario" type="text"><br><br>

        <h4>Quantidade Comprada</h4>
        <label for="input_cadeiraPraia">Cadeira Praia:</label>
        <input id="input_cadeiraPraia" type="text"><br><br>

        <label for="input_cadeiraJardim">Cadeira Jardim:</label>
        <input id="input_cadeiraJardim" type="text"><br><br>

        <label for="input_cadeiraPesca">Cadeira Pesca:</label>
        <input id="input_cadeiraPesca" type="text"><br><br>

        <button onclick="pagarSalario()">Pagar Salário</button>
        <button onclick="encerrarDia()">Encerrar o Dia</button>

        <br><br>
        <div id="mensagemParte2"></div>
    </div>
</body>

</html>
<script>

    var salarioInicial = 0,
        salarioFinal = 0,
        mesCorrente = 0,
        valorPraia = 100,
        valorJardim = 120,
        valorPesca = 80,
        qtdTotalPraiaF = 0,
        qtdTotalJardimF = 0,
        qtdTotalPescaF = 0;


    function registrarParametros() {
        salarioInicial = Number(input_salInicial.value);
        salarioFinal = Number(input_salFinal.value);
        mesCorrente = Number(input_MesCorrente);

        if (salarioInicial <= 3000 || (salarioFinal > 4 * salarioInicial)) {
            mensagemParte1.innerHTML = `ERRO!<br>
                                        - Salario Inicial tem que ser maior que R$3.000,00<br>
                                        - Salario Final não pode ser maior que 4X o Salario Inicial`;
        } else {
            parte1.style.display = 'none';
            parte2.style.display = 'block';
        }
    }

    function pagarSalario() {
        var nome = input_nomeFuncionario.value,
            salario = Number(input_salario.value),
            qtdPraiaF = Number(input_cadeiraPraia.value),
            qtdJardimF = Number(input_cadeiraJardim.value),
            qtdPescaF = Number(input_cadeiraPesca.value);

        // Validações - Parte 2
        if ((nome == "") ||
            (salario < salarioInicial) ||
            (qtdPraiaF < 0 || qtdPraiaF == "" || qtdJardimF < 0 || qtdJardimF == "" || qtdPescaF < 0 || qtdPescaF == "")
        ) {
            mensagemParte2.innerHTML = `ERRO!<br>
                                        - Nome é obrigatório!<br>
                                        - Salário deve ser maior ou igual ao salário inicial!<br>
                                        - Quantidades não podem ser vazias ou negativas!`;
        } else {
            
            // Critérios do Primeiro Desconto
            var totalPraiaF = qtdPraiaF * valorPraia,
                totalJardimF = qtdJardimF * valorJardim,
                totalPescaF = qtdPescaF * valorPesca,
                descontoJardim = 0,
                descontoPesca = 0,
                descontoPraia = 0;

            if ((mesCorrente >= 1 && mesCorrente <= 5) || (mesCorrente >= 10 && mesCorrente <= 12)) {
                descontoJardim = totalJardimF * 0.928;
                totalJardimF = totalJardimF - descontoJardim;
            }

            if (mesCorrente >= 4 && mesCorrente <= 10 && qtdPescaF > 3) {
                descontoPesca = totalPescaF * 0.0609;
                totalPescaF = totalPescaF - descontoPesca;
            }


            // Critérios do Segundo Desconto
            var totalCompra = totalPraiaF + totalJardimF + totalPescaF,
                descontoTotalCompra = 0;

            if (totalCompra > 400 && qtdPraiaF == 0 && qtdPescaF >= 1) {
                descontoTotalCompra = totalCompra * 0.025;
                totalCompra = totalCompra - descontoTotalCompra;
            }

            if (totalJardimF > totalPescaF && totalJardimF > totalPraiaF) {
                descontoTotalCompra = totalCompra * 0.055;
                totalCompra = totalCompra - descontoTotalCompra;
            }


            // Critério de aceite da venda de cadeira
            var limite = 0;

            if (salario >= salarioInicial && salario <= salarioFinal) {
                limite = salario * 0.305;
            } else if (salario > salarioFinal) {
                limite = salario * 0.2075;
            }

            if (totalCompra > limite) {
                mensagemParte2.innerHTML = `"Compra excede limite permitido pelo salário!"`;
            } else {
                var salarioLiquido = salario - totalCompra

                qtdTotalPraiaF += qtdPraiaF;
                qtdTotalJardimF += qtdJardimF;
                qtdTotalPescaF += qtdPescaF;

                mensagemParte2.innerHTML = `
                <br>
                <b>============= E X T R A T O   F U N C I O N Á R I O =============</b><br><br>

                <b>D A D O S   D O F U N C I O N Á R I O</b><br><br> 

                Nome: ${nome}<br>
                Salário: ${salario}<br>
                Salário Líquido: ${salarioLiquido}<br><br>

                <b>C A D E I R A S:</b><br><br>

                Cadeira de Praia: ${qtdPraiaF} X R$${valorPraia.toFixed(2)} = ${(qtdPraiaF * valorPraia).toFixed(2)} - Desconto: ${descontoPraia.toFixed(2)}<br>
                Cadeira de Jardim: ${qtdJardimF} X R$${valorJardim.toFixed(2)} = ${(qtdJardimF * valorJardim).toFixed(2)} - Desconto: ${descontoJardim.toFixed(2)}<br>
                Cadeira de Pesca: ${qtdPescaF} X R$${valorPesca.toFixed(2)} = ${(qtdPescaF * valorPesca).toFixed(2)} - Desconto: ${descontoPesca.toFixed(2)}<br>
                <br>
                Deconto extra: ${descontoTotalCompra}<br><br>

                QUANTIDADE DE NOTAS RECEBDAS:<br><br>
                

                `;
            }



        }
    }

</script>

<!-- Cadeira de Praia = R$ 100,00 cada
Cadeira de Jardim = R$ 120,00 cada
Cadeira de Pesca = R$ 80,00 cada -->