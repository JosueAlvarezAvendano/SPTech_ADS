<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>13. Controle de Campanha de Time de Futebol com Análise de Aproveitamento</h1>
    <br>
    <select id="select_resultado">
        <option disabled selected value="">Resultado</option>
        <option value="vitoria">Vitória</option>
        <option value="empate">Empate</option>
        <option value="derrota">Derrota</option>
    </select>
    <button onclick="registrar()">Registrar Jogo</button>
    <br><br>

    <label>Indique qual jogo deseja saber o resultado:</label>
    <input type="text" id="input_jogo" oninput="jogo()">
    <br><br>
    
    <div id="div_mensagem"></div>
</body>
</html>
<script>
    var campeonato = [],
        vitoria = 0,
        empate = 0,
        derrota = 0,
        pontuacao = 0,
        aproveitamento = 0;

    function registrar() {
        var resultado = select_resultado.value;
        campeonato.push(resultado);

        if (resultado == 'vitoria') {
            vitoria += 1;
            pontuacao += 3
        } else if (resultado == 'empate') {
            empate += 1;
            pontuacao += 1
        } else if (resultado == 'derrota') {
            derrota += 1;
        }

        aproveitamento = (pontuacao / (campeonato.length * 3)) * 100;

        div_mensagem.innerHTML = ` O time teve: ${vitoria} vitórias, ${empate} empates, ${derrota} derrotas<br>
                                    Pontuação total: ${pontuacao} pontos <br>
                                    Aproveitamento: ${aproveitamento.toFixed(2)}% <br>`;
        
    }

    function jogo() {
        var jogo = Number(input_jogo.value);

        if (jogo > campeonato.length){
            div_mensagem.innerHTML = `Não foi cadastrado um ${jogo}º jogo`;
        } else if (campeonato[jogo - 1] == 'vitoria') {
            div_mensagem.innerHTML = `No ${jogo}º jogo, o time Ganhou`
        } else if (campeonato[jogo - 1] == 'empate') {
            div_mensagem.innerHTML = `No ${jogo}º jogo, o time Empatou`
        } else if (campeonato[jogo - 1] == 'derrota') {
            div_mensagem.innerHTML = `No ${jogo}º jogo, o time Perdeu`
        }
    }
</script>